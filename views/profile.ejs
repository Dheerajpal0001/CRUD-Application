<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini_Project</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>

<body>
    <div class="min-h-screen text-white bg-gray-700 flex items-center flex-col">
        <div class="w-full flex items-center justify-between p-5 mb-3">
            <h1 class="text-2xl font-bold">Profile Page</h1>

            <div class="flex items-center justify-center gap-20 flex-wrap">
                <a href="/home" class="text-lg font-medium max-sm:hidden">Home</a>
                <a href="/profile" class="text-lg font-medium max-sm:hidden">Profile</a>
                <a href="/feed" class="text-lg font-medium max-sm:hidden">Feed</a>
                <a href="/logout" class="bg-blue-700 px-3 py-2 rounded-lg font-semibold max-sm:hidden">Log Out</a>

                <div class="text-lg font-medium sm:hidden">
                    <i class="ri-menu-5-line cursor-pointer" id="menu-button"></i>
                </div>
            </div>
        </div>

        <!-- Mobile Navigation Menu -->
        <div id="mobile-menu" class="flex flex-col items-center gap-4 mt-4 sm:hidden hidden">
            <a href="/home" class="text-lg font-medium">Home</a>
            <a href="/profile" class="text-lg font-medium">Profile</a>
            <a href="/feed" class="text-lg font-medium">Feed</a>
            <a href="/logout" class="bg-blue-700 px-3 py-2 rounded-lg font-semibold">Log Out</a>
        </div>

        <div class="w-full bg-gray-800">
            <div class="cart w-full flex items-center justify-center max-sm:flex-col max-sm:p-5">
                <img src="<%= userdata.image %>"
                    class="m-5 w-[350px] h-[400px] rounded-xl max-sm:w-[150] max-sm:h-[200]" alt="">
                <div class="relative m-5 top-50 text-2xl max-sm:text-sm">
                    <h1 class="tracking-wide mb-5">Name: <b class="pl-1 uppercase">
                            <%= userdata.name %>
                        </b></h1>
                    <h1 class="tracking-wide mb-5">Username: <b class="pl-1">
                            <%= userdata.username %>
                        </b></h1>
                    <!-- <h1 class="tracking-wide mb-5">Age: <b class="pl-1">
                            <%= userdata.age %>
                        </b></h1> -->
                    <h1 class="tracking-wide mb-5">Email: <b class="pl-1">
                            <%= userdata.email %>
                        </b></h1>
                    <p class="tracking-wide mb-8">Description: <b class="pl-1">Wish me a Happy Birthday On 02
                            October..</b></p>
                    <a href="/createPost" class="tracking-wide mb-5 bg-blue-700 text-xl px-3 py-2 rounded-lg">Create a
                        Post</a>
                    <a href="/editProfile" class="tracking-wide mb-5 bg-blue-700 text-xl px-3 py-2 rounded-lg">Edit
                        Profile</a>
                </div>
            </div>
        </div>
        <div class="min-h-screen w-full">
            <h1 class="text-3xl font-semibold p-7">All Posts</h1>
            <div class="min-h-auto flex items-center justify-center gap-10 flex-wrap p-10">
                <!-- Post snippet -->
                <!-- <div
                    class="posts sm:w-[100%] max-sm:w-full border-2 border-white rounded-lg bg-gray-800 flex items-center justify-center p-5 max-sm:flex-col">
                    <img src="https://th.bing.com/th?id=OIP.vfcvQrpunU1akdpD-BuCpgHaHa&w=250&h=250&c=8&rs=1&qlt=90&o=6&dpr=1.3&pid=3.1&rm=2"
                        alt="" class="pb-2 rounded-lg sm:w-[200px] sm:h-[180px]">
                    <div class="sm:px-5 sm:w-[90%] sm:flex sm:flex-col ms:items-center justify-start">
                        <h1 class="align-baseline pb-1 text-lg font-medium">luffy</h1>
                        <p class="pb-7">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Optio harum odit sed, voluptates illum quia sint eaque velit autem ratione magni quasi ut laborum iure laudantium modi ea nisi dolores.</p>
                        <div>
                            <a href="/editPost" class="tracking-wide bg-blue-700 px-3 py-2 rounded-lg mr-2">Edit Post</a>
                            <a href="/postDelete" class="tracking-wide bg-blue-700 px-3 py-2 rounded-lg mr-2">Delete Post</a>
                            <a href=""><button class="tracking-wide bg-blue-700 px-3 py-2 rounded-lg">Like</button></a>
                        </div>
                    </div>
                </div> -->

                <% if(userdata.posts.length > 0){ %>
                    <% userdata.posts.reverse().forEach((val) => { %>
                        <div
                            class="posts sm:w-[100%] max-sm:w-full border-2 border-white rounded-lg bg-gray-800 flex items-center justify-center p-5 max-sm:flex-col">
                            <img src="<%= val.image %>" alt="" class="pb-1 rounded-lg sm:w-[200px] sm:h-[180px]">
                            <div class="sm:px-5 sm:w-[90%] sm:flex sm:flex-col ms:items-center justify-start">
                                <h1 class="align-baseline pb-2 text-lg font-medium">
                                    <%= val.title %>
                                </h1>
                                <p class="pb-7">
                                    <%= val.description %>
                                </p>
                                <div>
                                    <a href="/editPost/<%= val._id %>"
                                        class="tracking-wide bg-blue-700 px-3 py-2 rounded-lg mr-2">Edit Post</a>
                                    <a href="/postDelete/<%= val._id %>"
                                        class="tracking-wide bg-blue-700 px-3 py-2 rounded-lg mr-2">Delete Post</a>
                                    <a href="/like/<%= val._id %>"><button
                                            class="tracking-wide bg-blue-700 px-3 py-2 rounded-lg">Like</button></a>
                                </div>
                            </div>
                        </div>
                    <% }) %>
                <% } else { %>
                    <h1>Not Created Any Post yet</h1>
                <% } %>
            </div>
        </div>
    </div>

    <script>
        // JavaScript to toggle menu visibility
        document.getElementById('menu-button').addEventListener('click', function() {
            var menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });
    </script>
</body>

</html>
